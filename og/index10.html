<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generator Gambar Teks Otomatis - Lidan Psikologi</title>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 40px;
            max-width: 1300px;
            width: 100%;
        }

        h1 {
            color: #333;
            margin-bottom: 10px;
            font-size: 28px;
        }

        .subtitle {
            color: #666;
            margin-bottom: 30px;
            font-size: 14px;
        }

        .controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .input-group {
            display: flex;
            flex-direction: column;
        }

        label {
            color: #555;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 14px;
        }

        input[type="number"],
        input[type="url"],
        select,
        textarea {
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s;
            font-family: inherit;
        }

        input[type="number"]:focus,
        input[type="url"]:focus,
        select:focus,
        textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        textarea {
            resize: vertical;
            min-height: 80px;
            grid-column: 1 / -1;
        }

        input[type="color"] {
            width: 60px;
            height: 40px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
        }

        input[type="range"] {
            -webkit-appearance: none;
            width: 100%;
            height: 10px;
            background: #e0e0e0;
            border-radius: 5px;
            cursor: pointer;
        }
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: #667eea;
            border-radius: 50%;
            cursor: pointer;
        }


        .canvas-container {
            background: #f5f5f5;
            border-radius: 12px;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 20px;
            overflow: auto;
        }

        canvas {
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            max-width: 100%;
            height: auto;
        }

        .button-group {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        }

        button:active {
            transform: translateY(0);
        }

        .section-title {
            color: #333;
            font-size: 18px;
            font-weight: 700;
            margin: 30px 0 15px 0;
            padding-bottom: 10px;
            border-bottom: 2px solid #667eea;
            grid-column: 1 / -1;
        }

        .help-text {
            color: #888;
            font-size: 12px;
            margin-top: 4px;
        }

        @media (max-width: 768px) {
            .controls {
                grid-template-columns: 1fr;
            }
            
            .container {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>‚ú® Generator Otomatis Kutipan - Lidan Psikologi</h1>
        <p class="subtitle">Membuat 100 gambar kutipan otomatis dengan background dari Picsum Photos (1200x630).</p>

        <div class="controls">
            <div class="section-title">üé® Pengaturan Tampilan</div>
            
            <div class="input-group">
                <label>Ukuran Font (English):</label>
                <input type="number" id="fontSizeEn" value="48" min="20" max="150">
            </div>

            <div class="input-group">
                <label>Ukuran Font (Indonesian):</label>
                <input type="number" id="fontSizeId" value="36" min="20" max="150">
            </div>

            <div class="input-group">
                <label>Warna Teks:</label>
                <input type="color" id="textColor" value="#ffffff">
            </div>
            
            <div class="input-group">
                <label>Warna Shadow Teks:</label>
                <input type="color" id="shadowColor" value="#000000">
                <span class="help-text">Tambahkan shadow untuk visibilitas.</span>
            </div>

            <div class="input-group">
                <label>Kontras Gambar Background (0.5 - 2.0):</label>
                <input type="number" id="bgContrast" value="1.0" min="0.5" max="2.0" step="0.1">
                <span class="help-text">1.0 = normal. Mengatur tingkat kontras.</span>
            </div>
            
            <div class="input-group">
                <label>Warna Gambar Background (Hue Rotate):</label>
                <input type="range" id="bgHue" value="0" min="0" max="360" step="1">
                <span class="help-text">0 = normal. Memutar rona warna (dalam derajat).</span>
            </div>
        </div>

        <div class="canvas-container">
            <canvas id="canvas" width="1200" height="630"></canvas>
        </div>

        <div class="button-group">
            <button onclick="updatePreview(0)">üîÑ Update Preview (Kutipan ke-1)</button>
            <button onclick="downloadAllImages()">‚¨áÔ∏è Generate & Download 100 Gambar ZIP</button> 
        </div>

        <p id="statusMessage" style="text-align: center; margin-top: 20px; font-weight: bold; color: #333;"></p>
    </div>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const DEFAULT_WIDTH = 1200;
        const DEFAULT_HEIGHT = 630;
        
        canvas.width = DEFAULT_WIDTH;
        canvas.height = DEFAULT_HEIGHT;

        // Data untuk 100 Kutipan
        const quotesData = [
            {en: "The only way to do great work is to love what you do. - Steve Jobs", id: "Satu-satunya cara untuk melakukan pekerjaan hebat adalah mencintai apa yang Anda lakukan."},
            {en: "In the middle of difficulty lies opportunity. - Albert Einstein", id: "Di tengah kesulitan terletak kesempatan."},
            {en: "The mind is everything. What you think you become. - Buddha", id: "Pikiran adalah segalanya. Apa yang Anda pikirkan, itulah yang akan terjadi."},
            {en: "Strive not to be a success, but rather to be of value. - Albert Einstein", id: "Berjuanglah bukan untuk menjadi sukses, tetapi untuk menjadi bernilai."},
            {en: "The future belongs to those who believe in the beauty of their dreams. - Eleanor Roosevelt", id: "Masa depan adalah milik mereka yang percaya pada keindahan mimpi-mimpi mereka."},
            {en: "You miss 100% of the shots you don't take. - Wayne Gretzky", id: "Anda melewatkan 100% tembakan yang tidak Anda ambil."},
            {en: "I have not failed. I've just found 10,000 ways that won't work. - Thomas A. Edison", id: "Saya tidak gagal. Saya baru saja menemukan 10.000 cara yang tidak akan berhasil."},
            {en: "The best time to plant a tree was 20 years ago. The second best time is now. - Chinese Proverb", id: "Waktu terbaik untuk menanam pohon adalah 20 tahun yang lalu. Waktu terbaik kedua adalah sekarang."},
            {en: "The journey of a thousand miles begins with a single step. - Lao Tzu", id: "Perjalanan seribu mil dimulai dengan satu langkah."},
            {en: "It is during our darkest moments that we must focus to see the light. - Aristotle Onassis", id: "Justru pada saat-saat tergelap kita harus fokus untuk melihat cahaya."},
            {en: "Believe you can and you're halfway there. - Theodore Roosevelt", id: "Percaya bahwa Anda bisa dan Anda sudah setengah jalan."},
            {en: "Success is not final, failure is not fatal: it is the courage to continue that counts. - Winston Churchill", id: "Kesuksesan bukanlah akhir, kegagalan tidak mematikan: keberanian untuk melanjutkan itulah yang diperhitungkan."},
            {en: "If you look at what you have in life, you'll always have more. If you look at what you don't have, you'll never have enough. - Oprah Winfrey", id: "Jika Anda melihat apa yang Anda miliki dalam hidup, Anda akan selalu memiliki lebih. Jika Anda melihat apa yang tidak Anda miliki, Anda tidak akan pernah merasa cukup."},
            {en: "Change your thoughts and you change your world. - Norman Vincent Peale", id: "Ubah pikiran Anda dan Anda mengubah dunia Anda."},
            {en: "Nothing is impossible, the word itself says 'I'm possible'! - Audrey Hepburn", id: "Tidak ada yang mustahil, kata itu sendiri mengatakan 'Saya mungkin'!"},
            {en: "The only limit to our realization of tomorrow will be our doubts of today. - Franklin D. Roosevelt", id: "Satu-satunya batasan bagi realisasi kita akan hari esok adalah keraguan kita hari ini."},
            {en: "Happiness is not something readymade. It comes from your own actions. - Dalai Lama", id: "Kebahagiaan bukanlah sesuatu yang sudah jadi. Itu datang dari tindakan Anda sendiri."},
            {en: "What you get by achieving your goals is not as important as what you become by achieving your goals. - Zig Ziglar", id: "Apa yang Anda dapatkan dengan mencapai tujuan Anda tidak sepenting apa yang Anda jadikan saat mencapai tujuan Anda."},
            {en: "Two roads diverged in a wood, and I‚ÄîI took the one less traveled by, and that has made all the difference. - Robert Frost", id: "Dua jalan bercabang di hutan, dan aku‚Äîaku mengambil jalan yang jarang dilalui, dan itu membuat semua perbedaan."},
            {en: "The mind is its own place, and in itself can make a heaven of hell, a hell of heaven. - John Milton", id: "Pikiran adalah tempatnya sendiri, dan di dalamnya dapat membuat surga dari neraka, neraka dari surga."},
            // Tambahkan 80 kutipan lagi di sini (disingkat untuk keringkasan kode, tapi harus ada 100)
            {en: "Twenty years from now you will be more disappointed by the things that you didn't do than by the ones you did do. - Mark Twain", id: "Dua puluh tahun dari sekarang Anda akan lebih kecewa dengan hal-hal yang tidak Anda lakukan daripada dengan hal-hal yang Anda lakukan."},
            {en: "I am not a product of my circumstances. I am a product of my decisions. - Stephen Covey", id: "Saya bukanlah produk dari keadaan saya. Saya adalah produk dari keputusan saya."},
            {en: "Either write something worth reading or do something worth writing. - Benjamin Franklin", id: "Tulis sesuatu yang layak dibaca atau lakukan sesuatu yang layak ditulis."},
            {en: "The question isn't who is going to let me; it's who is going to stop me. - Ayn Rand", id: "Pertanyaannya bukan siapa yang akan mengizinkan saya; tetapi siapa yang akan menghentikan saya."},
            {en: "The secret of getting ahead is getting started. - Mark Twain", id: "Rahasia untuk maju adalah memulai."},
            {en: "Life is what happens when you're busy making other plans. - John Lennon", id: "Hidup adalah apa yang terjadi ketika Anda sibuk membuat rencana lain."},
            {en: "If you are not willing to risk the usual, you will have to settle for the ordinary. - Jim Rohn", id: "Jika Anda tidak bersedia mengambil risiko yang biasa, Anda harus puas dengan yang biasa."},
            {en: "When you change your thoughts, remember to also change your world. - Norman Vincent Peale", id: "Ketika Anda mengubah pikiran Anda, ingatlah untuk juga mengubah dunia Anda."},
            {en: "The power of imagination makes us infinite. - John Muir", id: "Kekuatan imajinasi membuat kita tak terbatas."},
            {en: "Hardships often prepare ordinary people for an extraordinary destiny. - C.S. Lewis", id: "Kesulitan seringkali mempersiapkan orang biasa untuk takdir yang luar biasa."},
            {en: "The mind is everything. What you think you become. - Buddha", id: "Pikiran adalah segalanya. Apa yang Anda pikirkan, itulah yang akan terjadi."},
            {en: "Don't watch the clock; do what it does. Keep going. - Sam Levenson", id: "Jangan lihat jam; lakukan apa yang dilakukannya. Terus berjalan."},
            {en: "We are what we repeatedly do. Excellence, then, is not an act, but a habit. - Aristotle", id: "Kita adalah apa yang kita lakukan berulang kali. Keunggulan, oleh karena itu, bukanlah suatu tindakan, melainkan kebiasaan."},
            {en: "The greatest glory in living lies not in never falling, but in rising every time we fall. - Nelson Mandela", id: "Kemuliaan terbesar dalam hidup tidak terletak pada tidak pernah jatuh, tetapi pada bangkit setiap kali kita jatuh."},
            {en: "The whole secret of a successful life is to find out what is one's destiny to do, and then do it. - Henry Ford", id: "Seluruh rahasia kehidupan yang sukses adalah mengetahui apa takdir seseorang untuk dilakukan, dan kemudian melakukannya."},
            {en: "The only true wisdom is in knowing you know nothing. - Socrates", id: "Satu-satunya kebijaksanaan sejati adalah mengetahui bahwa Anda tidak tahu apa-apa."},
            {en: "Where there is a will, there is a way. - Pauline Kael", id: "Di mana ada kemauan, di situ ada jalan."},
            {en: "The difference between winning and losing is most often not quitting. - Walt Disney", id: "Perbedaan antara menang dan kalah paling sering adalah tidak menyerah."},
            {en: "Action is the foundational key to all success. - Pablo Picasso", id: "Tindakan adalah kunci dasar untuk semua kesuksesan."},
            {en: "Quality is not an act, it is a habit. - Aristotle", id: "Kualitas bukanlah suatu tindakan, melainkan kebiasaan."},
            {en: "The best revenge is massive success. - Frank Sinatra", id: "Balas dendam terbaik adalah kesuksesan besar."},
            {en: "The biggest risk is not taking any risk. - Mark Zuckerberg", id: "Risiko terbesar adalah tidak mengambil risiko sama sekali."},
            {en: "Logic will get you from A to B. Imagination will take you everywhere. - Albert Einstein", id: "Logika akan membawa Anda dari A ke B. Imajinasi akan membawa Anda ke mana-mana."},
            {en: "The successful warrior is the average man, with laser-like focus. - Bruce Lee", id: "Prajurit yang sukses adalah orang biasa, dengan fokus setajam laser."},
            {en: "Do not wait to strike till the iron is hot; but make the iron hot by striking. - William Butler Yeats", id: "Jangan menunggu untuk memukul sampai setrika panas; tetapi buatlah setrika menjadi panas dengan memukul."},
            {en: "If you genuinely want something, don't wait for it to come to you. Build it. - Chris Gardner", id: "Jika Anda benar-benar menginginkan sesuatu, jangan menunggu itu datang kepada Anda. Bangunlah."},
            {en: "Setting goals is the first step in turning the invisible into the visible. - Tony Robbins", id: "Menetapkan tujuan adalah langkah pertama dalam mengubah yang tak terlihat menjadi yang terlihat."},
            {en: "The best way to predict the future is to create it. - Peter Drucker", id: "Cara terbaik untuk memprediksi masa depan adalah dengan menciptakannya."},
            {en: "Limit your 'always' and your 'nevers.' - Amy Poehler", id: "Batasi 'selalu' dan 'tidak pernah' Anda."},
            {en: "The purpose of our lives is to be happy. - Dalai Lama", id: "Tujuan hidup kita adalah untuk bahagia."},
            {en: "You must do the things you think you cannot do. - Eleanor Roosevelt", id: "Anda harus melakukan hal-hal yang Anda pikir tidak bisa Anda lakukan."},
            {en: "Don't be afraid to give up the good to go for the great. - John D. Rockefeller", id: "Jangan takut melepaskan yang baik untuk mendapatkan yang hebat."},
            {en: "Keep your eyes on the stars, and your feet on the ground. - Theodore Roosevelt", id: "Jaga mata Anda pada bintang, dan kaki Anda di tanah."},
            {en: "If you can dream it, you can achieve it. - Zig Ziglar", id: "Jika Anda bisa memimpikannya, Anda bisa mencapainya."},
            {en: "The power of 'we' is always stronger than the power of 'me.' - Various", id: "Kekuatan 'kita' selalu lebih kuat daripada kekuatan 'saya'."},
            {en: "Fall seven times, stand up eight. - Japanese Proverb", id: "Jatuh tujuh kali, bangun delapan kali."},
            {en: "Don't count the days, make the days count. - Muhammad Ali", id: "Jangan hitung hari, buatlah hari-hari itu berarti."},
            {en: "I find that the harder I work, the more luck I seem to have. - Thomas Jefferson", id: "Saya menemukan bahwa semakin keras saya bekerja, semakin banyak keberuntungan yang saya miliki."},
            {en: "Perfection is not attainable, but if we chase perfection we can catch excellence. - Vince Lombardi", id: "Kesempurnaan tidak dapat dicapai, tetapi jika kita mengejar kesempurnaan kita dapat meraih keunggulan."},
            {en: "Motivation is the art of getting people to do what you want them to do because they want to do it. - Dwight D. Eisenhower", id: "Motivasi adalah seni membuat orang melakukan apa yang Anda ingin mereka lakukan karena mereka ingin melakukannya."},
            {en: "Try not to become a man of success, but rather try to become a man of value. - Albert Einstein", id: "Cobalah untuk tidak menjadi orang yang sukses, tetapi cobalah untuk menjadi orang yang bernilai."},
            {en: "Great minds discuss ideas; average minds discuss events; small minds discuss people. - Eleanor Roosevelt", id: "Pikiran hebat mendiskusikan ide; pikiran rata-rata mendiskusikan peristiwa; pikiran kecil mendiskusikan orang."},
            {en: "The only place where success comes before work is in the dictionary. - Vidal Sassoon", id: "Satu-satunya tempat di mana kesuksesan datang sebelum kerja adalah di kamus."},
            {en: "Formal education will make you a living; self-education will make you a fortune. - Jim Rohn", id: "Pendidikan formal akan membuat Anda hidup; pendidikan mandiri akan membuat Anda kaya."},
            {en: "If you want to lift yourself up, lift up someone else. - Booker T. Washington", id: "Jika Anda ingin mengangkat diri sendiri, angkatlah orang lain."},
            {en: "The mind is its own place, and in itself can make a heaven of hell, a hell of heaven. - John Milton", id: "Pikiran adalah tempatnya sendiri, dan di dalamnya dapat membuat surga dari neraka, neraka dari surga."},
            {en: "The only limit to our realization of tomorrow will be our doubts of today. - Franklin D. Roosevelt", id: "Satu-satunya batasan bagi realisasi kita akan hari esok adalah keraguan kita hari ini."},
            {en: "Don‚Äôt quit. Suffer now and live the rest of your life as a champion. - Muhammad Ali", id: "Jangan menyerah. Menderita sekarang dan jalani sisa hidup Anda sebagai seorang juara."},
            {en: "You have power over your mind - not outside events. Realize this, and you will find strength. - Marcus Aurelius", id: "Anda memiliki kekuatan atas pikiran Anda - bukan peristiwa di luar. Sadarilah ini, dan Anda akan menemukan kekuatan."},
            {en: "The secret to getting things done is to act! - Dante Alighieri", id: "Rahasia untuk menyelesaikan sesuatu adalah bertindak!"},
            {en: "A successful man is one who can lay a firm foundation with the bricks others have thrown at him. - David Brinkley", id: "Pria yang sukses adalah dia yang dapat meletakkan dasar yang kokoh dengan bata yang dilemparkan orang lain padanya."},
            {en: "We must be willing to let go of the life we have planned, so as to have the life that is waiting for us. - Joseph Campbell", id: "Kita harus bersedia melepaskan kehidupan yang kita rencanakan, agar memiliki kehidupan yang menunggu kita."},
            {en: "It does not matter how slowly you go as long as you do not stop. - Confucius", id: "Tidak masalah seberapa lambat Anda berjalan asalkan Anda tidak berhenti."},
            {en: "Our greatest weakness lies in giving up. The most certain way to succeed is always to try just one more time. - Thomas Edison", id: "Kelemahan terbesar kita terletak pada menyerah. Cara paling pasti untuk sukses adalah selalu mencoba sekali lagi."},
            {en: "The road to success and the road to failure are almost exactly the same. - Colin R. Davis", id: "Jalan menuju kesuksesan dan jalan menuju kegagalan hampir sama persis."},
            {en: "Develop success from failures. Discouragement and failure are two of the surest stepping stones to success. - Dale Carnegie", id: "Kembangkan kesuksesan dari kegagalan. Keputusasaan dan kegagalan adalah dua batu loncatan yang paling pasti menuju kesuksesan."},
            {en: "The focus should be on how to use what you have. - Oprah Winfrey", id: "Fokus harus pada cara menggunakan apa yang Anda miliki."},
            {en: "If you want to achieve greatness stop asking for permission. - Anonymous", id: "Jika Anda ingin mencapai kebesaran, berhentilah meminta izin."},
            {en: "Things work out best for those who make the best of how things work out. - John Wooden", id: "Hal-hal berjalan paling baik bagi mereka yang memanfaatkan sebaik-baiknya bagaimana hal-hal berjalan."},
            {en: "To live a creative life, we must lose our fear of being wrong. - Joseph Chilton Pearce", id: "Untuk menjalani kehidupan yang kreatif, kita harus kehilangan rasa takut kita untuk salah."},
            {en: "Patience is not simply the ability to wait - it's how we behave while we're waiting. - Joyce Meyer", id: "Kesabaran bukan hanya kemampuan untuk menunggu - itu adalah bagaimana kita bersikap saat kita menunggu."},
            {en: "A champion is afraid of losing. Everyone else is afraid of winning. - Billie Jean King", id: "Seorang juara takut kalah. Orang lain takut menang."},
            {en: "It is better to fail in originality than to succeed in imitation. - Herman Melville", id: "Lebih baik gagal dalam orisinalitas daripada berhasil dalam meniru."},
            {en: "Do what you can, with what you have, where you are. - Theodore Roosevelt", id: "Lakukan apa yang Anda bisa, dengan apa yang Anda miliki, di mana Anda berada."},
            {en: "The best time to start is now. - Proverb", id: "Waktu terbaik untuk memulai adalah sekarang."},
            {en: "Don't be pushed around by the fears in your mind. Be led by the dreams in your heart. - Roy T. Bennett", id: "Jangan didorong oleh ketakutan di pikiran Anda. Jadilah dipimpin oleh mimpi di hati Anda."},
            {en: "Don't watch the clock; do what it does. Keep going. - Sam Levenson", id: "Jangan lihat jam; lakukan apa yang dilakukannya. Terus berjalan."},
            {en: "The mind is everything. What you think you become. - Buddha", id: "Pikiran adalah segalanya. Apa yang Anda pikirkan, itulah yang akan terjadi."},
            {en: "The best time to plant a tree was 20 years ago. The second best time is now. - Chinese Proverb", id: "Waktu terbaik untuk menanam pohon adalah 20 tahun yang lalu. Waktu terbaik kedua adalah sekarang."},
            {en: "A truly rich man is one whose children run into his arms when his hands are empty. - Anonymous", id: "Pria yang benar-benar kaya adalah pria yang anak-anaknya lari ke pelukannya ketika tangannya kosong."},
            {en: "The only way to do great work is to love what you do. - Steve Jobs", id: "Satu-satunya cara untuk melakukan pekerjaan hebat adalah mencintai apa yang Anda lakukan."},
            {en: "Happiness is not something readymade. It comes from your own actions. - Dalai Lama", id: "Kebahagiaan bukanlah sesuatu yang sudah jadi. Itu datang dari tindakan Anda sendiri."},
            {en: "What you get by achieving your goals is not as important as what you become by achieving your goals. - Zig Ziglar", id: "Apa yang Anda dapatkan dengan mencapai tujuan Anda tidak sepenting apa yang Anda jadikan saat mencapai tujuan Anda."},
            {en: "You must do the things you think you cannot do. - Eleanor Roosevelt", id: "Anda harus melakukan hal-hal yang Anda pikir tidak bisa Anda lakukan."},
            {en: "The journey of a thousand miles begins with a single step. - Lao Tzu", id: "Perjalanan seribu mil dimulai dengan satu langkah."},
            {en: "The greatest discovery of all time is that a human can alter his future by merely altering his attitude. - Oprah Winfrey", id: "Penemuan terbesar sepanjang masa adalah bahwa manusia dapat mengubah masa depannya hanya dengan mengubah sikapnya."},
            {en: "Change your thoughts and you change your world. - Norman Vincent Peale", id: "Ubah pikiran Anda dan Anda mengubah dunia Anda."},
            {en: "The whole secret of a successful life is to find out what is one's destiny to do, and then do it. - Henry Ford", id: "Seluruh rahasia kehidupan yang sukses adalah mengetahui apa takdir seseorang untuk dilakukan, dan kemudian melakukannya."},
            {en: "The question isn't who is going to let me; it's who is going to stop me. - Ayn Rand", id: "Pertanyaannya bukan siapa yang akan mengizinkan saya; tetapi siapa yang akan menghentikan saya."},
            {en: "The best way to predict the future is to create it. - Peter Drucker", id: "Cara terbaik untuk memprediksi masa depan adalah dengan menciptakannya."},
            {en: "If you can dream it, you can achieve it. - Zig Ziglar", id: "Jika Anda bisa memimpikannya, Anda bisa mencapainya."},
            {en: "Life is 10% what happens to us and 90% how we react to it. - Charles R. Swindoll", id: "Hidup adalah 10% apa yang terjadi pada kita dan 90% bagaimana kita bereaksi terhadapnya."},
            {en: "The biggest risk is not taking any risk. - Mark Zuckerberg", id: "Risiko terbesar adalah tidak mengambil risiko sama sekali."},
            {en: "I'm a great believer in luck, and I find the harder I work the more I have of it. - Thomas Jefferson", id: "Saya sangat percaya pada keberuntungan, dan saya menemukan semakin keras saya bekerja semakin banyak saya memilikinya."},
            {en: "If you want to achieve greatness stop asking for permission. - Anonymous", id: "Jika Anda ingin mencapai kebesaran, berhentilah meminta izin."},
            {en: "Believe you can and you're halfway there. - Theodore Roosevelt", id: "Percaya bahwa Anda bisa dan Anda sudah setengah jalan."},
            {en: "If you are not willing to risk the usual, you will have to settle for the ordinary. - Jim Rohn", id: "Jika Anda tidak bersedia mengambil risiko yang biasa, Anda harus puas dengan yang biasa."},
            {en: "The mind is its own place, and in itself can make a heaven of hell, a hell of heaven. - John Milton", id: "Pikiran adalah tempatnya sendiri, dan di dalamnya dapat membuat surga dari neraka, neraka dari surga."},
            {en: "Do not wait to strike till the iron is hot; but make the iron hot by striking. - William Butler Yeats", id: "Jangan menunggu untuk memukul sampai setrika panas; tetapi buatlah setrika menjadi panas dengan memukul."},
            {en: "Setting goals is the first step in turning the invisible into the visible. - Tony Robbins", id: "Menetapkan tujuan adalah langkah pertama dalam mengubah yang tak terlihat menjadi yang terlihat."},
            {en: "The power of imagination makes us infinite. - John Muir", id: "Kekuatan imajinasi membuat kita tak terbatas."},
            {en: "A successful man is one who can lay a firm foundation with the bricks others have thrown at him. - David Brinkley", id: "Pria yang sukses adalah dia yang dapat meletakkan dasar yang kokoh dengan bata yang dilemparkan orang lain padanya."},
            {en: "It does not matter how slowly you go as long as you do not stop. - Confucius", id: "Tidak masalah seberapa lambat Anda berjalan asalkan Anda tidak berhenti."},
            {en: "Our greatest weakness lies in giving up. The most certain way to succeed is always to try just one more time. - Thomas Edison", id: "Kelemahan terbesar kita terletak pada menyerah. Cara paling pasti untuk sukses adalah selalu mencoba sekali lagi."},
            {en: "Patience is not simply the ability to wait - it's how we behave while we're waiting. - Joyce Meyer", id: "Kesabaran bukan hanya kemampuan untuk menunggu - itu adalah bagaimana kita bersikap saat kita menunggu."},
            {en: "Fall seven times, stand up eight. - Japanese Proverb", id: "Jatuh tujuh kali, bangun delapan kali."},
            {en: "Do what you can, with what you have, where you are. - Theodore Roosevelt", id: "Lakukan apa yang Anda bisa, dengan apa yang Anda miliki, di mana Anda berada."},
            {en: "The road to success and the road to failure are almost exactly the same. - Colin R. Davis", id: "Jalan menuju kesuksesan dan jalan menuju kegagalan hampir sama persis."},
            {en: "Develop success from failures. Discouragement and failure are two of the surest stepping stones to success. - Dale Carnegie", id: "Kembangkan kesuksesan dari kegagalan. Keputusasaan dan kegagalan adalah dua batu loncatan yang paling pasti menuju kesuksesan."},
            {en: "The focus should be on how to use what you have. - Oprah Winfrey", id: "Fokus harus pada cara menggunakan apa yang Anda miliki."},
            {en: "Limit your 'always' and your 'nevers.' - Amy Poehler", id: "Batasi 'selalu' dan 'tidak pernah' Anda."},
            {en: "The purpose of our lives is to be happy. - Dalai Lama", id: "Tujuan hidup kita adalah untuk bahagia."},
            {en: "Don't be afraid to give up the good to go for the great. - John D. Rockefeller", id: "Jangan takut melepaskan yang baik untuk mendapatkan yang hebat."},
            {en: "Keep your eyes on the stars, and your feet on the ground. - Theodore Roosevelt", id: "Jaga mata Anda pada bintang, dan kaki Anda di tanah."},
            {en: "The power of 'we' is always stronger than the power of 'me.' - Various", id: "Kekuatan 'kita' selalu lebih kuat daripada kekuatan 'saya'."},
            {en: "It is better to fail in originality than to succeed in imitation. - Herman Melville", id: "Lebih baik gagal dalam orisinalitas daripada berhasil dalam meniru."},
            {en: "The best time to start is now. - Proverb", id: "Waktu terbaik untuk memulai adalah sekarang."},
            {en: "Don't be pushed around by the fears in your mind. Be led by the dreams in your heart. - Roy T. Bennett", id: "Jangan didorong oleh ketakutan di pikiran Anda. Jadilah dipimpin oleh mimpi di hati Anda."}
        ];

        // URL Gambar Picsum (Gunakan ID 100-199 untuk 100 gambar berbeda)
        const totalImages = 100;
        const imageUrls = Array.from({length: totalImages}, (_, i) => 
            `https://picsum.photos/id/${100 + i}/${DEFAULT_WIDTH}/${DEFAULT_HEIGHT}`
        );


        // --- Event listeners untuk kontrol lainnya ---
        document.getElementById('fontSizeEn').addEventListener('input', () => updatePreview(0));
        document.getElementById('fontSizeId').addEventListener('input', () => updatePreview(0));
        document.getElementById('textColor').addEventListener('input', () => updatePreview(0));
        document.getElementById('shadowColor').addEventListener('input', () => updatePreview(0));
        document.getElementById('bgContrast').addEventListener('input', () => updatePreview(0));
        document.getElementById('bgHue').addEventListener('input', () => updatePreview(0));


        /**
         * Fungsi untuk memecah teks menjadi baris
         */
        function wrapText(context, text, maxWidth) {
            const words = text.split(' ');
            let lines = [];
            let currentLine = words[0] || '';

            for (let i = 1; i < words.length; i++) {
                const word = words[i];
                const width = context.measureText(currentLine + " " + word).width;
                if (width < maxWidth) {
                    currentLine += " " + word;
                } else {
                    lines.push(currentLine);
                    currentLine = word;
                }
            }
            lines.push(currentLine);
            return lines;
        }

        /**
         * Fungsi untuk menggambar overlay teks pada objek canvas/konteks tertentu
         */
        function drawTextOverlay(context, bgImg, quote) {
            const bgW = DEFAULT_WIDTH;
            const bgH = DEFAULT_HEIGHT;
            
            const fontSizeEn = parseInt(document.getElementById('fontSizeEn').value) || 48;
            const fontSizeId = parseInt(document.getElementById('fontSizeId').value) || 36;
            const textColor = document.getElementById('textColor').value;
            const shadowColor = document.getElementById('shadowColor').value;
            
            // Ambil nilai filter
            const contrastValue = parseFloat(document.getElementById('bgContrast').value) || 1.0;
            const hueValue = parseInt(document.getElementById('bgHue').value) || 0;
            
            const padding = 60; // Padding kiri/kanan
            const maxWidth = bgW - (padding * 2);
            
            // Clear canvas
            context.clearRect(0, 0, bgW, bgH);

            // Draw background
            const isBgLoaded = bgImg && bgImg.complete && bgImg.naturalWidth !== 0;

            if (isBgLoaded) {
                // Terapkan filter Kontras dan Hue pada konteks
                context.filter = `contrast(${contrastValue}) hue-rotate(${hueValue}deg)`;
                
                // Draw background image TEPAT sesuai ukuran kanvas 
                context.drawImage(bgImg, 0, 0, bgW, bgH);
                context.fillStyle = 'rgba(0, 0, 0, 0.5)'; // Mengatur warna hitam dengan opasitas 85%
                context.fillRect(0, 0, bgW, bgH); // Menggambar kotak di atas gambar

                // **PENTING:** Hapus filter sebelum menggambar elemen lain (teks)
                context.filter = 'none'; 
                
                // Opacity 1 (tidak ada overlay gelap)
                // Jika ingin membuat gambar lebih gelap, tambahkan:
                // context.fillStyle = 'rgba(0, 0, 0, 0.2)'; // Contoh 20% overlay
                // context.fillRect(0, 0, bgW, bgH);
            } else {
                // Fallback to gradient if no image
                const gradient = context.createLinearGradient(0, 0, bgW, bgH);
                gradient.addColorStop(0, '#667eea');
                gradient.addColorStop(1, '#764ba2');
                context.fillStyle = gradient;
                context.fillRect(0, 0, bgW, bgH);
            }

            // --- Draw English Text (Lebih Besar) ---
            context.font = `bold ${fontSizeEn}px 'Times New Roman', serif`;
            context.textAlign = 'center';
            context.textBaseline = 'middle';
            
            const linesEn = wrapText(context, quote.en, maxWidth);
            const lineHeightEn = fontSizeEn * 1.4;
            const totalTextHeightEn = linesEn.length * lineHeightEn;

            // --- Draw Indonesian Text (Lebih Kecil) ---
            context.font = `${fontSizeId}px 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif`; 

            const linesId = wrapText(context, quote.id, maxWidth);
            const lineHeightId = fontSizeId * 1.4;
            const totalTextHeightId = linesId.length * lineHeightId;

            // Hitung total tinggi teks untuk penempatan di tengah vertikal
            const spacing = 30; // Jarak antara English dan Indonesian
            const totalTextHeight = totalTextHeightEn + spacing + totalTextHeightId;

            // Titik awal Y untuk teks English (diposisikan di tengah)
            let startY = (bgH - totalTextHeight) / 2;
            
            // Terapkan shadow untuk visibilitas
            context.shadowColor = shadowColor;
            context.shadowBlur = 10;
            context.shadowOffsetX = 3;
            context.shadowOffsetY = 3;
            
            // Draw English Text
            context.fillStyle = textColor;
            context.font = `bold ${fontSizeEn}px 'Times New Roman', serif`;
            linesEn.forEach((line, index) => {
                const yPos = startY + (index * lineHeightEn) + (lineHeightEn / 2);
                context.fillText(line, bgW / 2, yPos);
            });
            
            // Update startY untuk Indonesian Text
            startY += totalTextHeightEn + spacing;

            // Draw Indonesian Text
            context.font = `${fontSizeId}px 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif`;
            linesId.forEach((line, index) => {
                const yPos = startY + (index * lineHeightId) + (lineHeightId / 2);
                context.fillText(line, bgW / 2, yPos);
            });
            
            // Nonaktifkan shadow setelah menggambar teks
            context.shadowColor = 'transparent';
            context.shadowBlur = 0;
            context.shadowOffsetX = 0;
            context.shadowOffsetY = 0;
        }


        function updatePreview(index) {
            const imageUrl = imageUrls[index];
            const quote = quotesData[index];
            const image = new Image();
            
            document.getElementById('statusMessage').innerText = `Loading Preview ${index + 1}/${totalImages}...`;

            image.crossOrigin = 'Anonymous'; // Penting untuk gambar dari luar domain
            image.src = imageUrl;

            image.onload = function() {
                drawTextOverlay(ctx, image, quote);
                document.getElementById('statusMessage').innerText = `Preview ${index + 1}/${totalImages} ditampilkan.`;
            };

            image.onerror = function() {
                console.error(`Gagal memuat gambar untuk preview: ${imageUrl}`);
                document.getElementById('statusMessage').innerText = `Gagal memuat gambar ${index + 1}. Menampilkan background fallback.`;
                // Gunakan fungsi drawTextOverlay dengan bgImg null untuk fallback gradient
                drawTextOverlay(ctx, null, quote); 
            };
        }

        /**
         * FUNGSI MULTI-DOWNLOAD DENGAN JSZip
         */
        function downloadAllImages() {
            const zip = new JSZip();
            let filesProcessed = 0;
            const totalFiles = imageUrls.length;
            const KUALITAS_KOMPRESI = 0.8; // Kualitas JPEG (0.0 - 1.0)
            
            if (totalFiles === 0) {
                 alert("Tidak ada data kutipan untuk diproses.");
                 return;
            }

            document.getElementById('statusMessage').innerText = `Mulai memproses ${totalFiles} gambar... Harap tunggu.`;

            // Proses setiap kutipan dan URL gambar
            for (let i = 0; i < totalFiles; i++) {
                const imageUrl = imageUrls[i];
                const quote = quotesData[i];
                
                const image = new Image();
                image.crossOrigin = 'Anonymous'; // Penting untuk gambar dari luar domain
                image.src = imageUrl;
                
                image.onload = function() {
                    // 1. Buat kanvas baru di memori
                    const tempCanvas = document.createElement('canvas');
                    tempCanvas.width = DEFAULT_WIDTH;
                    tempCanvas.height = DEFAULT_HEIGHT;
                    const tempCtx = tempCanvas.getContext('2d');

                    // 2. Gambar overlay teks pada kanvas sementara
                    drawTextOverlay(tempCtx, image, quote);
                    
                    // 3. Tentukan nama file
                    const quoteText = quote.en.split(' - ')[0].substring(0, 30).replace(/[^a-zA-Z0-9]/g, '_'); // Ambil 30 karakter pertama teks English, ganti non-alfanumerik dengan '_'
                    const fileName = `Kutipan_${i + 1}_${quoteText}.jpeg`; 

                    // 4. Konversi Canvas ke Data URL JPEG
                    const dataUrl = tempCanvas.toDataURL('image/jpeg', KUALITAS_KOMPRESI);
                    
                    // 5. Tambahkan file ke objek ZIP
                    const base64Data = dataUrl.split(',')[1];
                    zip.file(fileName, base64Data, {base64: true});

                    filesProcessed++;
                    document.getElementById('statusMessage').innerText = `Memproses... ${filesProcessed}/${totalFiles} selesai.`;

                    // Cek apakah semua file sudah diproses
                    if (filesProcessed === totalFiles) {
                        // 6. Generate dan Download ZIP
                        zip.generateAsync({type:"blob"})
                        .then(function(content) {
                            // Gunakan FileSaver.js untuk menyimpan file ZIP
                            saveAs(content, "100_Kutipan_Lidan_Psikologi.zip");
                            document.getElementById('statusMessage').innerText = `‚úÖ Selesai! File ZIP berhasil diunduh. Total ${totalFiles} gambar.`;
                        });
                    }
                };

                image.onerror = function() {
                    console.error(`Gagal memuat gambar untuk unduhan: ${imageUrl}`);
                    // Jika gambar gagal dimuat, gunakan fallback gradient dan tetap tambahkan ke ZIP
                    
                    // 1. Buat kanvas baru di memori
                    const tempCanvas = document.createElement('canvas');
                    tempCanvas.width = DEFAULT_WIDTH;
                    tempCanvas.height = DEFAULT_HEIGHT;
                    const tempCtx = tempCanvas.getContext('2d');

                    // 2. Gambar overlay teks pada kanvas sementara dengan bgImg null
                    drawTextOverlay(tempCtx, null, quote);
                    
                    const quoteText = quote.en.split(' - ')[0].substring(0, 30).replace(/[^a-zA-Z0-9]/g, '_'); 
                    const fileName = `Kutipan_${i + 1}_${quoteText}_FALLBACK.jpeg`; 

                    const dataUrl = tempCanvas.toDataURL('image/jpeg', KUALITAS_KOMPRESI);
                    const base64Data = dataUrl.split(',')[1];
                    zip.file(fileName, base64Data, {base64: true});

                    filesProcessed++;
                    document.getElementById('statusMessage').innerText = `Memproses... ${filesProcessed}/${totalFiles} selesai (dengan ${filesProcessed - i - 1} fallback).`;

                    if (filesProcessed === totalFiles) {
                        zip.generateAsync({type:"blob"})
                        .then(function(content) {
                            saveAs(content, "100_Kutipan_Lidan_Psikologi.zip");
                            document.getElementById('statusMessage').innerText = `‚úÖ Selesai! File ZIP berhasil diunduh. Total ${totalFiles} gambar.`;
                        });
                    }
                };
            }
        }

        // Initial render
        updatePreview(0); // Tampilkan kutipan pertama sebagai preview
    </script>
</body>
</html>